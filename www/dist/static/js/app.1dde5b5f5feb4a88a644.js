webpackJsonp([1],{"03v1":function(e,t){},"2T6O":function(e,t){},"4GjL":function(e,t,i){e.exports=i.p+"static/img/logo.a369349.jpg"},"4T3O":function(e,t){},"4fiY":function(e,t,i){"use strict";t.a={GAME_VERSION:3,CACHE_ENABLED:!0,GAME_VERSION_VAR_NAME:"game_version",GAME_UPGRADE_POINT:"GAME_UPGRADEPOINT",GAME_SAVE_POINT:"GAME_SAVEPOINT",DEFAULT_LOAD_MARK_NAME:"START",INDEXEDDB_STORE_NAME:"store_sg5t",GP_PRODUCT1_NAME:"com.skystairgames.sg5.coin1",GP_PRODUCT2_NAME:"com.skystairgames.sg5.episodes",ENABLE_SAVE_BUTTON:!1,ENABLE_LOAD_BUTTON:!1,ENABLE_SKIP_BUTTON:!1,ENABLE_EPISODES_BUTTON:!1,ENABLE_BACK_BUTTON:!1,ENABLE_DONATE_BUTTON:!0,ENABLE_SPEECH:!1}},"4xAV":function(e,t){},"5tgm":function(e,t){},"9w6p":function(e,t,i){var n={"./audio/ambient.mp3":"Hz/Z","./audio/music_intro.mp3":"cKpF","./data/scenario.json":"jvff","./images/Intro.jpg":"KxK8","./images/bg.jpg":"A1K6","./images/intro_gops.png":"yYW4","./images/logo.jpg":"4GjL","./images/poster.png":"D3Z2","./images/title.png":"Cb4U","./video/intro.mp4":"tmvk","./video/intro_backup.mp4":"YmEH","./video/intro_src_backup.mp4":"nNUK"};function s(e){return i(r(e))}function r(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id="9w6p"},A1K6:function(e,t,i){e.exports=i.p+"static/img/bg.6e050a2.jpg"},Cb4U:function(e,t,i){e.exports=i.p+"static/img/title.a2c6cc2.png"},D3Z2:function(e,t,i){e.exports=i.p+"static/img/poster.2c5487d.png"},HbOr:function(e,t){},"Hz/Z":function(e,t,i){e.exports=i.p+"static/media/ambient.d410406.mp3"},KxK8:function(e,t,i){e.exports=i.p+"static/img/Intro.871d121.jpg"},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("7+uW"),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var r=i("VU/8")({name:"App"},s,!1,function(e){i("s347")},null,null).exports,a=i("/ocq"),o=i("b3CK"),u=i("2QDH"),c=i.n(u),d=i("//Fk"),l=i.n(d),h={showImages:function(e,t,i,n){var s=this;return n&&(console.log("isClearCtx",!0),i.clearRect(0,0,t.width,t.height)),new l.a(function(n,r){if(e&&""!==e){var a=e.split("&").map(function(e){var t={},i=e.split("|");i[0]&&(t.name=i[0],t.path=s.getImageSrc(t.name));var n=null;if(i[1]){n={};var r=i[1].split(";");n.posX=r[0]||0,n.posY=r[1]||0,n.scaleX=r[2]||1,n.scaleY=r[3]||1,n.rotation=r[4]||0,n.alpha=r[5]||1,t.params=n}return t});s.loadAndDrawImageItems(a,t,i).then(function(){n()}).catch(function(e){r(e)})}else n()})},getImageSrc:function(e){var t=o.a.getAssetByName(o.a.CATEGORY_IMAGES,e);return t||(e.indexOf(".jpg")<=0&&e.indexOf(".png")<=0&&e.indexOf(".gif")<=0&&(e+=".jpg"),this.getImagePathByName(e))},getImagePathByName:function(e){return i("g2Y0")("./"+e)},loadAndDrawImageItems:function(e,t,i){var n=this;return new l.a(function(s,r){l.a.all(e.map(function(e){return n.loadImageByItem(e)})).then(function(e){e.forEach(function(e){n.drawImageCustom(t,i,e.image,e.params),s()})}).catch(function(e){console.error(e),r(e)})})},loadImageByItem:function(e){return new l.a(function(t,i){var n=new Image;n.addEventListener("load",function(){e.image=n,t(e)}),n.addEventListener("error",function(e){i(e)}),n.src=e.path})},drawImageCustom:function(e,t,i,n){var s=(n=n||{}).posX||0,r=n.posY||0,a=i.width*Math.abs(n.scaleX||1),o=i.height*Math.abs(n.scaleY||1),u=Math.PI/180*(n.rotation||0),d=n.alpha||1;t.save(),t.translate(s,r),t.rotate(u),t.scale(c()(n.scaleX||1),c()(n.scaleY||1)),t.globalAlpha=d,t.drawImage(i,0,0,a,o),t.restore()},getObjectFitSize:function(e){var t=window.getComputedStyle(e),i=t.getPropertyValue("object-fit"),n={};n.width=e.width,n.height=e.height;var s=t.getPropertyValue("object-position").split(" "),r=parseInt(s[0])/100,a=parseInt(s[1])/100,o=e.naturalWidth/e.naturalHeight,u=e.width/e.height;return"none"===i?(n.sourceWidth=e.width,n.sourceHeight=e.height,n.sourceX=(e.naturalWidth-e.width)*r,n.sourceY=(e.naturalHeight-e.height)*a,n.destinationWidthPercentage=1,n.destinationHeightPercentage=1,n.destinationXPercentage=0,n.destinationYPercentage=0):"contain"===i||"scale-down"===i?(n.sourceWidth=e.naturalWidth,n.sourceHeight=e.naturalHeight,n.sourceX=0,n.sourceY=0,o>u?(n.destinationWidthPercentage=1,n.destinationHeightPercentage=e.naturalHeight/e.height/(e.naturalWidth/e.width),n.destinationXPercentage=0,n.destinationYPercentage=(1-n.destinationHeightPercentage)*a):(n.destinationWidthPercentage=e.naturalWidth/e.width/(e.naturalHeight/e.height),n.destinationHeightPercentage=1,n.destinationXPercentage=(1-n.destinationWidthPercentage)*r,n.destinationYPercentage=0)):"cover"===i?(o>u?(n.sourceWidth=e.naturalHeight*u,n.sourceHeight=e.naturalHeight,n.sourceX=(e.naturalWidth-n.sourceWidth)*r,n.sourceY=0):(n.sourceWidth=e.naturalWidth,n.sourceHeight=e.naturalWidth/u,n.sourceX=0,n.sourceY=(e.naturalHeight-n.sourceHeight)*a),n.destinationWidthPercentage=1,n.destinationHeightPercentage=1,n.destinationXPercentage=0,n.destinationYPercentage=0):("fill"!==i&&console.error("unexpected 'object-fit' attribute with value '"+i+"' relative to"),n.sourceWidth=e.naturalWidth,n.sourceHeight=e.naturalHeight,n.sourceX=0,n.sourceY=0,n.destinationWidthPercentage=1,n.destinationHeightPercentage=1,n.destinationXPercentage=0,n.destinationYPercentage=0),n}},g={name:"BgPicturePlayer",data:function(){return{bgPicturePlayer:null,currentImages:"",prevImages:""}},mounted:function(){this.bgPicturePlayer||this.initialize()},methods:{initialize:function(){this.bgPicturePlayer=this.$refs.bgPicturePlayer},showBgPictures:function(e){var t=this;this.prevImages=this.currentImages,this.currentImages=e;var i=document.getElementById("bgcanvasHidden"),n=i.getContext("2d");h.showImages(e,i,n,!0).finally(function(){t.copyHiddenToVisibleCanvas()})},copyHiddenToVisibleCanvas:function(){var e=document.getElementById("bgcanvas"),t=document.getElementById("bgcanvasHidden"),i=e.getContext("2d");this.prevImages!==this.currentImages&&i.clearRect(0,0,e.width,e.height),i.drawImage(t,0,0)}}},m={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("canvas",{staticStyle:{width:"100%",height:"100%","object-fit":"contain"},attrs:{id:"bgcanvas",width:"640px",height:"480px"}}),this._v(" "),t("canvas",{staticStyle:{visibility:"hidden"},attrs:{id:"bgcanvasHidden",width:"640px",height:"480px"}})])}]};var p=i("VU/8")(g,m,!1,function(e){i("5tgm")},"data-v-667edfce",null).exports,f=i("4fiY"),A={name:"VideoPlayer",data:function(){return{isFirstRun:!0,videoPlayer1:null,videoPlayer2:null,currentVideoPlayer:null,currentPlayerNo:1,currentVideoName:"",loop:!1,styleObject1:{position:"absolute",display:"none",top:0,left:0,width:"100%",height:"100%","z-index":1},styleObject2:{position:"absolute",display:"none",top:0,left:0,width:"100%",height:"100%","z-index":2}}},mounted:function(){this.videoPlayer1||this.initialize()},methods:{initialize:function(){this.videoPlayer1=this.$refs.videoPlayer1,this.videoPlayer2=this.$refs.videoPlayer2},playVideo:function(e,t){var i=this;if(console.log(e),this.currentVideoName=e,"NONE"===e.toUpperCase())return this.styleObject1.display="none",this.videoPlayer1.src="",this.styleObject2.display="none",void(this.videoPlayer2.src="");(1===this.currentPlayerNo||this.isFirstRun)&&(this.videoPlayer1.loop=t,this.videoPlayer1.src=this.getVideoSrc(e),this.videoPlayer1.pause(),setTimeout(function(){i.videoPlayer1.play()},10)),(2===this.currentPlayerNo||this.isFirstRun)&&(this.videoPlayer2.loop=t,this.videoPlayer2.src=this.getVideoSrc(e),this.videoPlayer2.pause(),setTimeout(function(){i.videoPlayer2.play()},10))},getVideoSrc:function(e){var t=o.a.getAssetByName(o.a.CATEGORY_VIDEO,e);return f.a.CACHE_ENABLED&&t?t:this.getVideoPathByName(e)},getVideoPathByName:function(e){var t=e;return t.indexOf(".")<0&&(t+=".mp4"),i("X9qF")("./"+t)},stopVideo:function(){1===this.currentPlayerNo&&this.videoPlayer1.pause(),2===this.currentPlayerNo&&this.videoPlayer2.pause()},onCanPlay:function(e){var t=this;(1===this.currentPlayerNo||this.isFirstRun)&&setTimeout(function(){t.videoPlayer1.play()},10),(2===this.currentPlayerNo||this.isFirstRun)&&setTimeout(function(){t.videoPlayer2.play()},10),this.switchVideoPlayer(),this.isFirstRun=!1},switchVideoPlayer:function(){1===this.currentPlayerNo&&(this.styleObject1.display="block",this.styleObject2.display="block",this.videoPlayer2.pause(),this.styleObject2.width=0,this.styleObject2.height=0,this.styleObject1.width="100%",this.styleObject1.height="100%",this.currentVideoPlayer=this.videoPlayer1),2===this.currentPlayerNo&&(this.styleObject2.display="block",this.styleObject1.display="block",this.videoPlayer1.pause(),this.styleObject1.width=0,this.styleObject1.height=0,this.styleObject2.width="100%",this.styleObject2.height="100%",this.currentVideoPlayer=this.videoPlayer2),this.currentPlayerNo=3-this.currentPlayerNo},onEnd:function(){this.$emit("videoEnded",this.currentVideoName)}}},I={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("video",{ref:"videoPlayer1",style:e.styleObject1,attrs:{playsinline:"",autoplay:"",loop:e.loop},on:{canplay:e.onCanPlay,ended:e.onEnd}}),e._v(" "),i("video",{ref:"videoPlayer2",style:e.styleObject2,attrs:{playsinline:"",autoplay:"",loop:e.loop},on:{canplay:e.onCanPlay,ended:e.onEnd}})])},staticRenderFns:[]};var E=i("VU/8")(A,I,!1,function(e){i("4T3O")},"data-v-30855976",null).exports,C={name:"BgndImagePlayer",data:function(){return{imagePlayer:null,currentImages:""}},mounted:function(){this.imagePlayer||this.initialize()},methods:{initialize:function(){this.imagePlayer=this.$refs.imagePlayer},showImages:function(e){var t=this;if(e&&""!==e){this.currentImages=e;var i=document.getElementById("bgndcanvasHidden"),n=i.getContext("2d");h.showImages(e,i,n,!0).finally(function(){t.copyHiddenToVisibleCanvas()})}},copyHiddenToVisibleCanvas:function(){var e=document.getElementById("bgndcanvas"),t=document.getElementById("bgndcanvasHidden");e.getContext("2d").drawImage(t,0,0)},clearImages:function(){var e=document.getElementById("bgndcanvas");e.getContext("2d").clearRect(0,0,e.width,e.height),this.currentImages=""}}},v={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("canvas",{staticStyle:{width:"100%",height:"100%","object-fit":"contain"},attrs:{id:"bgndcanvas",width:"640px",height:"480px"}}),this._v(" "),t("canvas",{staticStyle:{visibility:"hidden"},attrs:{id:"bgndcanvasHidden",width:"640px",height:"480px"}})])}]};var y=i("VU/8")(C,v,!1,function(e){i("Vm1E")},"data-v-f564314e",null).exports,_={name:"ImagePlayer",data:function(){return{imagePlayer:null,currentImages:""}},mounted:function(){this.imagePlayer||this.initialize()},methods:{initialize:function(){this.imagePlayer=this.$refs.imagePlayer},showImages:function(e){var t=this;if(e&&""!==e){this.currentImages=e;var i=document.getElementById("imgcanvasHidden"),n=i.getContext("2d");h.showImages(e,i,n,!0).finally(function(){t.switchCanvas()})}},switchCanvas:function(){var e=document.getElementById("imgcanvas"),t=document.getElementById("imgcanvasHidden");e.getContext("2d").drawImage(t,0,0)},clearImages:function(){var e=document.getElementById("imgcanvas");e.getContext("2d").clearRect(0,0,e.width,e.height),this.currentImages=""}}},N={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("canvas",{staticStyle:{width:"100%",height:"100%","object-fit":"contain"},attrs:{id:"imgcanvas",width:"640px",height:"480px"}}),this._v(" "),t("canvas",{staticStyle:{visibility:"hidden"},attrs:{id:"imgcanvasHidden",width:"640px",height:"480px"}})])}]};var S=i("VU/8")(_,N,!1,function(e){i("4xAV")},"data-v-2601949e",null).exports,w=i("162o"),V={name:"AudioPlayer",data:function(){return{audioPlayer:null,ambientPlayer:null,musicPlayer:null,bgndMusicPlayer:null,sfxPlayer:null,currentAudioName:"",currentSFXName:"",currentUtterance:null,currentAmbientName:"",currentMusicName:"",currentBgndMusicName:"",silentTimerId:0,loop:!1}},mounted:function(){this.audioPlayer||this.initialize()},methods:{initialize:function(){this.audioPlayer=this.$refs.audioPlayer,this.ambientPlayer=this.$refs.ambientPlayer,this.musicPlayer=this.$refs.musicPlayer,this.bgndMusicPlayer=this.$refs.bgndMusicPlayer,this.sfxPlayer=this.$refs.sfxPlayer},playAudio:function(e,t,i){if(console.log(e,i),f.a.ENABLE_SPEECH&&i&&"..."!==i){var n=speechSynthesis.getVoices();return this.currentUtterance=new SpeechSynthesisUtterance(i),this.currentUtterance.voice=n[0],this.currentUtterance.rate=2,this.currentUtterance.onend=this.onAudioEnded,void speechSynthesis.speak(this.currentUtterance)}if(this.clearSilentTimer(),this.currentAudioName=e,e.toUpperCase().includes("SILENT_")){var s=e.toUpperCase().replace("SILENT_","");this.silentTimerId=Object(w.setTimeout)(this.onAudioEnded,1e3*s)}else""!==this.musicPlayer.src&&(this.musicPlayer.volume=.05),""!==this.bgndMusicPlayer.src&&(this.bgndMusicPlayer.volume=.05),this.audioPlayer.loop=t,this.audioPlayer.src=this.getAudioSrc(e),this.audioPlayer.load()},getAudioSrc:function(e){if(e.indexOf("http")>=0)return e;var t=o.a.getAssetByName(o.a.CATEGORY_AUDIO,e);return t||this.getAudioPathByName(e)},getAudioPathByName:function(e){var t=e;return t.indexOf(".mp3")<0&&(t+=".mp3"),i("sX5c")("./"+t)},stopAudio:function(){this.audioPlayer.pause(),this.clearSilentTimer(),f.a.ENABLE_SPEECH&&speechSynthesis.cancel(),""!==this.musicPlayer.src&&(this.musicPlayer.volume=.4),""!==this.bgndMusicPlayer.src&&(this.bgndMusicPlayer.volume=.4)},clearSilentTimer:function(){clearTimeout(this.silentTimerId._id),this.silentTimerId=0},onAudioEnded:function(){this.$emit("audioEnded",this.currentAudioName)},playAmbient:function(e){console.log("ambient",e),""!==e&&e!==this.currentAmbientName&&(this.currentAmbientName=e,"NONE"!==e.toUpperCase()&&"OFF"!==e.toUpperCase()?(this.ambientPlayer.loop=!0,this.ambientPlayer.src=this.getAudioSrc(e),this.ambientPlayer.load()):this.ambientPlayer.src="")},playMusic:function(e){console.log("playMusic",e),""!==e&&(this.currentMusicName=e,"NONE"!==e.toUpperCase()&&"OFF"!==e.toUpperCase()?(this.musicPlayer.src=this.getAudioSrc(e),this.musicPlayer.load()):this.musicPlayer.src="")},onMusicEnded:function(){this.$emit("musicEnded",this.currentMusicName)},stopMusic:function(){this.musicPlayer.pause()},playBgndMusic:function(e){console.log("playBgndMusic",e),""!==e&&(this.currentBgndMusicName=e,"NONE"!==e.toUpperCase()&&"OFF"!==e.toUpperCase()?(this.bgndMusicPlayer.src=this.getAudioSrc(e),this.bgndMusicPlayer.load()):this.bgndMusicPlayer.src="")},onBgndMusicEnded:function(){this.$emit("bgndMusicEnded",this.currentBgndMusicName)},stopBgndMusic:function(){this.bgndMusicPlayer.pause()},playSFX:function(e){console.log("SFX",e),this.currentSFXName=e,this.sfxPlayer.src=this.getAudioSrc(e),this.sfxPlayer.load()},onSFXEnded:function(){this.$emit("sfxEnded",this.currentSFXName)},stopSFX:function(){this.sfxPlayer.pause()}}},M={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("audio",{ref:"audioPlayer",attrs:{autoplay:"",loop:e.loop},on:{ended:e.onAudioEnded}},[i("source",{attrs:{type:"audio/mp3"}})]),e._v(" "),i("audio",{ref:"ambientPlayer",attrs:{autoplay:""}},[i("source",{attrs:{type:"audio/mp3"}})]),e._v(" "),i("audio",{ref:"musicPlayer",attrs:{autoplay:""},on:{ended:e.onMusicEnded}},[i("source",{attrs:{type:"audio/mp3"}})]),e._v(" "),i("audio",{ref:"bgndMusicPlayer",attrs:{autoplay:""},on:{ended:e.onBgndMusicEnded}},[i("source",{attrs:{type:"audio/mp3"}})]),e._v(" "),i("audio",{ref:"sfxPlayer",attrs:{autoplay:""},on:{ended:e.onSFXEnded}},[i("source",{attrs:{type:"audio/mp3"}})])])},staticRenderFns:[]};var T={data:function(){return{totalMS:0,currentMS:0,timerId:0,interval:100,styleObject:{width:"0%"}}},methods:{setTimer:function(e,t){var i=this;console.log("TimerView::setTimer",e,t),this.mark=t,this.seconds=e,this.clearTimer(),e<=0||(this.totalMS=1e3*e,this.currentMS=0,this.timerId=Object(w.setInterval)(function(){i.currentMS+=i.interval,i.updateIndicator(),i.currentMS>i.totalMS&&(i.clearTimer(),i.currentMS=i.totalMS,i.onTimeExpired())},this.interval))},onTimeExpired:function(){console.log("TimerView::timeExpired"),this.$emit("timeExpired")},clearTimer:function(){console.log("TimerView::clearTimer"),Object(w.clearInterval)(this.timerId),this.totalMS=100,this.currentMS=100,this.updateIndicator()},updateIndicator:function(){this.styleObject.width=100-100*this.currentMS/this.totalMS+"%"},updatePercent:function(e,t){this.styleObject.width=100*e/t+"%"}}},b={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"progressbar orange"},[t("span",{style:this.styleObject})])},staticRenderFns:[]};var P={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("p",{staticStyle:{"white-space":"pre-line"}},[this._v(this._s(this.txtQuestion))])])},staticRenderFns:[]};var O={data:function(){return{items:[],isInputS:!1,styleObjectList:{visibility:"none","overflow-y":"scroll"},styleObjectInput:{visibility:"none"},isBlocked:!1,inputS:""}},methods:{setAnswers:function(e,t,i){if(this.isInputS=t,this.inputSVal=i,this.isBlocked=!1,this.items=e,this.items.length)for(var n=0;n<this.items.length;n++)this.items[n].isActive=0===n},onAnswerClick:function(e){if(console.log("onAnswerClick"),e.inputS="",this.isBlocked=!0,this.items.length)for(var t=0;t<this.items.length;t++)this.items[t].isActive=e.id===this.items[t].id;this.dispatchAnswerClick(e)},onEnter:function(){if(console.log(this.inputS),""!==this.inputS){var e=this.items[0];e.inputS=this.inputS,this.copyInputSToClipboard(),this.dispatchAnswerClick(e)}},dispatchAnswerClick:function(e){this.$emit("answerClick",e)},showAnswers:function(){var e=this;this.isInputS?(this.inputS="",this.styleObjectInput.visibility="visible",this.styleObjectList.visibility="hidden",this.styleObjectList.height=0,setTimeout(function(){e.inputS=e.inputSVal,e.$refs.inputS.focus()},10)):(this.styleObjectInput.visibility="hidden",this.styleObjectList.visibility="visible",this.styleObjectList.height="100%")},hideAnswers:function(){this.styleObjectInput.visibility="hidden",this.styleObjectList.visibility="hidden"},copyInputSToClipboard:function(){var e=document.querySelector("#inputS");e.setAttribute("type","text"),e.select();try{document.execCommand("copy")}catch(e){}}}},B={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("RecycleScroller",{staticClass:"scroller",style:e.styleObjectList,attrs:{items:e.items,"item-size":40},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.item;return[i("div",{staticClass:"item",class:n.isActive?"active":"",on:{click:function(t){return e.onAnswerClick(n)}}},[e._v(e._s(n.text))])]}}])}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.inputS,expression:"inputS"}],ref:"inputS",staticClass:"input-style",style:e.styleObjectInput,attrs:{id:"inputS",placeholder:"input / набирай"},domProps:{value:e.inputS},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onEnter.apply(null,arguments)},input:function(t){t.target.composing||(e.inputS=t.target.value)}}})],1)},staticRenderFns:[]};var x={data:function(){return{styleControls:{visibility:"hidden"},styleObjectCheat:{display:this.$debug?"auto":"none"},isCheatPurchased:this.$debug,isSaveButton:f.a.ENABLE_SAVE_BUTTON||this.$debug,isLoadButton:f.a.ENABLE_LOAD_BUTTON||this.$debug,isBackButton:f.a.ENABLE_BACK_BUTTON||this.$debug,isEpisodesButton:f.a.ENABLE_EPISODES_BUTTON||this.$debug,isSkipButton:f.a.ENABLE_SKIP_BUTTON||this.$debug,isDonateButton:f.a.ENABLE_DONATE_BUTTON||this.$debug}},methods:{showControls:function(){this.styleControls.visibility="visible"},hideControls:function(){this.styleControls.visibility="hidden"},onRestartClick:function(){console.log("RESTART"),this.$emit("restartGame")},onSaveClick:function(){console.log("saveGame"),this.$emit("saveGame")},onLoadClick:function(){console.log("loadGame"),this.$emit("loadGame")},onBackClick:function(){console.log("cheatBack"),this.$emit("cheatBack")},onSkipClick:function(){console.log("cheatSkip"),this.$emit("cheatSkip")},onEpisodeClick:function(){console.log("cheatEpisode"),this.$emit("cheatEpisode")},onDonateClick:function(){console.log("donate"),this.$emit("donate")},enablePurchasedCheats:function(){console.log("enablePurchasedCheats"),this.isCheatPurchased=!0}}},D={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:e.styleControls},[i("button",{on:{click:e.onRestartClick}},[e._v("3AHOBO")]),e._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:e.isSaveButton,expression:"isSaveButton"}],style:e.styleObjectCheat,on:{click:e.onSaveClick}},[e._v("Coxp.")]),e._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:e.isLoadButton,expression:"isLoadButton"}],style:e.styleObjectCheat,on:{click:e.onLoadClick}},[e._v("3arp.")]),e._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:e.isCheatPurchased||e.isSkipButton,expression:"isCheatPurchased || isSkipButton"}],style:e.styleObjectCheat,on:{click:e.onSkipClick}},[e._v("npon.")]),e._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:e.isBackButton,expression:"isBackButton"}],style:e.styleObjectCheat,on:{click:e.onBackClick}},[e._v("Ha3ag")]),e._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:e.isCheatPurchased||e.isEpisodesButton,expression:"isCheatPurchased || isEpisodesButton"}],style:e.styleObjectCheat,on:{click:e.onEpisodeClick}},[e._v("3nu3og")]),e._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:e.isDonateButton,expression:"isDonateButton"}],style:e.styleObjectCheat,on:{click:e.onDonateClick}},[e._v("rpynna VK")])])},staticRenderFns:[]};var R={components:{BgPicturePlayer:p,VideoPlayer:E,BgndImagePlayer:y,ImagePlayer:S,AudioPlayer:i("VU/8")(V,M,!1,function(e){i("2T6O")},"data-v-62db1b77",null).exports,TimerView:i("VU/8")(T,b,!1,function(e){i("HbOr")},"data-v-115f2128",null).exports,QuestionView:i("VU/8")({data:function(){return{txtQuestion:""}},methods:{setQuestion:function(e){this.txtQuestion=e},clearQuestion:function(){this.txtQuestion=""}}},P,!1,function(e){i("nJvg")},"data-v-74aa3d6e",null).exports,AnswersList:i("VU/8")(O,B,!1,function(e){i("kInz")},"data-v-be70fda2",null).exports,ControlsView:i("VU/8")(x,D,!1,function(e){i("nWAT")},"data-v-9c5fb70c",null).exports},mounted:function(){this.initialize()},methods:{initialize:function(){},showPreloading:function(){this.$refs.answersView.hideAnswers(),this.$refs.controlsView.hideControls()},showGameView:function(){this.$refs.controlsView.showControls()},setQuestionText:function(e){this.$refs.questionView.setQuestion(e)},showAnswers:function(e,t,i){this.$refs.answersView.setAnswers(e,t,i),this.$refs.answersView.showAnswers()},clearAnswers:function(){this.$refs.answersView.setAnswers([],null),this.$refs.answersView.hideAnswers()},hideAnswers:function(){this.$refs.answersView.hideAnswers()},setTimer:function(e,t){this.$refs.timerView.setTimer(e,t)},clearTimer:function(e){this.$refs.timerView.clearTimer()},showBgPictures:function(e){this.$refs.bgPicturePlayer.showBgPictures(e)},playVideo:function(e,t){this.$refs.videoPlayer.playVideo(e,t)},stopVideo:function(){this.$refs.videoPlayer.stopVideo()},playAudio:function(e,t,i){this.$refs.audioPlayer.playAudio(e,t,i)},stopAudio:function(){this.$refs.audioPlayer.stopAudio()},showBgndImages:function(e){this.$refs.bgndImagePlayer.showImages(e)},clearBgndImages:function(){this.$refs.bgndImagePlayer.clearImages()},showImages:function(e){this.$refs.imagePlayer.showImages(e)},clearImages:function(){this.$refs.imagePlayer.clearImages()},playAmbient:function(e,t){this.$refs.audioPlayer.playAmbient(e)},playMusic:function(e,t){this.$refs.audioPlayer.playMusic(e)},stopMusic:function(){this.$refs.audioPlayer.stopMusic()},playBgndMusic:function(e,t){this.$refs.audioPlayer.playBgndMusic(e)},stopBgndMusic:function(){this.$refs.audioPlayer.stopBgndMusic()},playSFX:function(e,t){this.$refs.audioPlayer.playSFX(e)},stopSFX:function(){this.$refs.audioPlayer.stopSFX()},processAnswerClick:function(e){this.$emit("answerClick",e)},processVideoEnded:function(e){this.$emit("videoEnded",e)},processAudioEnded:function(e){this.$emit("audioEnded",e)},processSFXEnded:function(e){this.$emit("sfxEnded",e)},processMusicEnded:function(e){this.$emit("musicEnded",e)},processBgndMusicEnded:function(e){this.$emit("bgndMusicEnded",e)},processTimeExpired:function(){this.$emit("timeExpired")},updateTimerViewPercent:function(e,t){this.$refs.timerView.updatePercent(e,t)},restartGame:function(){this.$emit("restartGame")},saveGame:function(){this.$emit("saveGame")},loadGame:function(){this.$emit("loadGame")},cheatSkip:function(){this.$emit("cheatSkip")},cheatBack:function(){this.$emit("cheatBack")},cheatEpisode:function(){console.log("cheatEpisode"),this.$emit("cheatEpisode")},donate:function(){console.log("donate"),this.$emit("donate")},enablePurchasedCheats:function(){this.$refs.controlsView.enablePurchasedCheats()}}},k={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"mainView",staticClass:"main-view"},[i("BgPicturePlayer",{ref:"bgPicturePlayer",staticClass:"bg-picture-container"}),e._v(" "),i("VideoPlayer",{ref:"videoPlayer",staticClass:"video-container",on:{videoEnded:e.processVideoEnded}}),e._v(" "),i("BgndImagePlayer",{ref:"bgndImagePlayer",staticClass:"bgnd-image-container"}),e._v(" "),i("ImagePlayer",{ref:"imagePlayer",staticClass:"image-container"}),e._v(" "),i("AudioPlayer",{ref:"audioPlayer",staticClass:"audio-container",on:{audioEnded:e.processAudioEnded,sfxEnded:e.processSFXEnded,musicEnded:e.processMusicEnded,bgndMusicEnded:e.processBgndMusicEnded}}),e._v(" "),i("QuestionView",{ref:"questionView",staticClass:"questions-container"}),e._v(" "),i("TimerView",{ref:"timerView",staticClass:"timer-container",on:{timeExpired:e.processTimeExpired}}),e._v(" "),i("AnswersList",{ref:"answersView",staticClass:"answers-container",on:{answerClick:e.processAnswerClick}}),e._v(" "),i("ControlsView",{ref:"controlsView",staticClass:"controls-container",on:{restartGame:e.restartGame,saveGame:e.saveGame,loadGame:e.loadGame,cheatSkip:e.cheatSkip,cheatBack:e.cheatBack,cheatEpisode:e.cheatEpisode,donate:e.donate}})],1)},staticRenderFns:[]};var F=i("VU/8")(R,k,!1,function(e){i("eFts")},"data-v-0bde706f",null).exports,G=i("mvHQ"),L=i.n(G),U=i("Dd8w"),j=i.n(U),Q=i("Rz6t"),H={data:function(){return{scenario:null,marksDictionary:{},scriptsDictionary:{},sessions:0,gameData:{},currentNode:null,prevQuestionNodes:null,nextNode:null,currentQuestionLabel:"",isFinal:!1,currentAnswers:null,inputSVarName:null,inputSVarValue:null,answerTime:0,timeExpiredMark:"",currentVideoSequence:[],currentVideoIndex:0,currentAudioSequence:[],currentAudioIndex:0,currentSFXSequence:[],currentSFXIndex:0,currentBgPictures:null,prevBgPictures:null,currentBgndImages:null,currentImages:null,currentAmbientName:"",currentMusicSequence:[],currentMusicIndex:0,currentBgndMusicSequence:[],currentBgndMusicIndex:0,isNewMusic:!1,isNewBgndMusic:!1,navigateUrl:"",episodeNo:1,isHideAnswers:!1}},computed:{},methods:{prepareData:function(){this.createMarksDictionary(this.scenario),this.$debug?(Q.a.runTests(),this.runTests(),this.initStore()):document.addEventListener("deviceready",this.initStore)},initStore:function(){console.log("window.store",window.store),window.store?(window.store.register({id:f.a.GP_PRODUCT1_NAME,alias:"coin",type:window.store.CONSUMABLE}),window.store.register({id:f.a.GP_PRODUCT2_NAME,alias:"episodes",type:window.store.CONSUMABLE}),window.store.error(function(e){console.log("%c ERROR "+e.code+": "+e.message,"background: #FF0000; color: #FFFFFF")}),window.store.refresh(),this.gameData.store=window.store):console.log("%c Store not available","background: #FF0000; color: #FFFFFF")},saveGameData:function(){var e=this.getCurrentNodeFirstMark();if(e){console.log("Saving... markName:",e),localStorage.setItem("markName",e);var t=this.gameData.store;this.gameData.store=null;var i=j()({},this.gameData);return localStorage.setItem("gameData",L()(i)),this.gameData.store=t,console.log("gameData:",i),!0}return!1},loadGameData:function(){var e=localStorage.getItem("markName");if(console.log("Loading... markName:",e),e){var t=this.gameData.store;return this.gameData=JSON.parse(localStorage.getItem("gameData")),this.gameData.store=t,console.log("gameData:",this.gameData),this.getGameDataVarValue(f.a.GAME_VERSION_VAR_NAME)<f.a.GAME_VERSION&&(e=f.a.GAME_UPGRADE_POINT),this.setGameDataVarValue(f.a.GAME_VERSION_VAR_NAME,f.a.GAME_VERSION),this.gotoMark(e),!0}return!1},savePurchasedItem:function(e){console.log("Saving... purchaseItem:",e),localStorage.setItem(e,!0)},loadPurchasedItem:function(e){return console.log("Loading... purchaseItem:",e),localStorage.getItem(e)},restartGame:function(){if(this.setGameDataVarValue(f.a.GAME_VERSION_VAR_NAME,f.a.GAME_VERSION),this.currentNode=this.scenario.node[0].node[0],this.sessions>0){var e=this.findNodeWithMark(this.scenario,f.a.GAME_SAVE_POINT);e&&(this.currentNode=e)}this.sessions++,this.prevQuestionNodes=[],this.answerTime=0,this.timeExpiredMark="",this.episodeNo=1},createMarksDictionary:function(e){if(e._mark){var t=e._mark.split(",");for(var i in t)this.marksDictionary[t[i].trim()]=e}for(var n in e.node)this.createMarksDictionary(e.node[n])},findNodeWithMark:function(e,t){var i=t.trim();return this.marksDictionary[i]},getCurrentNodeFirstMark:function(){return this.currentNode&&this.currentNode._mark?this.currentNode._mark.split(",")[0]:null},processGOTONode:function(e){var t=e;t._parsedContent=this.evalString(t._content);for(var i=Q.a.getTagValueGOTO(t._parsedContent);i.length>0;){var n=Q.a.getArrayRandomElement(i);if(!(t=this.findNodeWithMark(this.scenario,n)))return console.log("%c Cant find mark in scenario!"+n,"background: #FF0000; color: #FFFFFF"),e;t._parsedContent=this.evalString(t._content),i=Q.a.getTagValueGOTO(t._parsedContent)}return t},prepareCurrentQuestion:function(){this.currentNode=this.processGOTONode(this.currentNode);var e=j()({},this.gameData);this.currentNode._gameData=JSON.parse(L()(e)),this.prevQuestionNodes.push(this.currentNode);var t=Q.a.getTagValueFINAL(this.currentNode._parsedContent);this.isFinal=""!==t,this.isFinal||(t=Q.a.getTagValueLABEL(this.currentNode._parsedContent)),this.currentQuestionLabel=t,this.navigateUrl=Q.a.getTagValueNAVIGATEURL(this.currentNode._parsedContent),this.purchaseItem=Q.a.getTagValuePURCHASE(this.currentNode._parsedContent),console.log("purchaseItem:",this.purchaseItem);var i=Q.a.getTagValueBGNDIMAGE(this.currentNode._parsedContent);if(this.currentBgndImages=Q.a.getArrayRandomElement(i),"*"===this.currentBgndImages){var n=this.evalString(this.currentNode._content);i=Q.a.getTagValueIMAGE(n),this.currentBgndImages=Q.a.getArrayRandomElement(i)}this.prevBgPictures=this.currentBgPictures;var s=Q.a.getTagValueBGPICTURE(this.currentNode._parsedContent);this.currentBgPictures=Q.a.getArrayRandomElement(s);var r=Q.a.getTagValueIMAGE(this.currentNode._parsedContent);this.currentImages=Q.a.getArrayRandomElement(r),this.currentVideoSequence=Q.a.getTagValueVIDEO(this.currentNode._parsedContent),this.currentVideoIndex=0,this.currentAudioSequence=Q.a.getTagValueAUDIO(this.currentNode._parsedContent),this.currentAudioIndex=0,this.currentAmbientName=Q.a.getTagValueAMBIENT(this.currentNode._parsedContent),this.currentSFXSequence=Q.a.getTagValueSOUNDFX(this.currentNode._parsedContent),this.currentSFXIndex=0,this.processNodeMusic(this.currentNode),this.processNodeBgndMusic(this.currentNode),this.answerTime=Q.a.getTagValueANSWERTIME(this.currentNode._parsedContent),this.timeExpiredMark=Q.a.getTagValueTIMEEXPIRED(this.currentNode._parsedContent),this.isHideAnswers="ON"===Q.a.getTagValueHIDEANSWERS(this.currentNode._parsedContent)},hasEmptyQuestion:function(){return""===this.currentNode._content},prepareAfterQuestion:function(){this.currentVideoSequence=Q.a.getTagValueBGNDVIDEO(this.currentNode._parsedContent),this.currentVideoIndex=0,this.currentAudioSequence=Q.a.getTagValueBGNDAUDIO(this.currentNode._parsedContent),this.currentAudioIndex=0},getCurrentQuestionLabel:function(){return this.currentQuestionLabel},getCurrentNavigateUrl:function(){return this.navigateUrl},getCurrentVideoName:function(){return this.currentVideoSequence[this.currentVideoIndex]},getCurrentAudioName:function(){return this.currentAudioSequence[this.currentAudioIndex]},getCurrentSFXName:function(){return this.currentSFXSequence[this.currentSFXIndex]},getCurrentAmbientName:function(){return this.currentAmbientName},getCurrentMusicName:function(){return this.currentMusicSequence[this.currentMusicIndex]},getCurrentBgndMusicName:function(){return this.currentBgndMusicSequence[this.currentBgndMusicIndex]},setNextVideo:function(){this.currentVideoIndex++},setNextAudio:function(){this.currentAudioIndex++},setNextSFX:function(){this.currentSFXIndex++},setNextRandomMusic:function(){if(!this.hasMusicEmpty())for(var e=this.currentMusicIndex;this.currentMusicSequence.length>1&&e===this.currentMusicIndex;)this.currentMusicIndex=Q.a.getArrayRandomIndex(this.currentMusicSequence)},setNextRandomBgndMusic:function(){if(!this.hasBgndMusicEmpty())for(var e=this.currentBgndMusicIndex;this.currentBgndMusicSequence.length>1&&e===this.currentBgndMusicIndex;)this.currentBgndMusicIndex=Q.a.getArrayRandomIndex(this.currentBgndMusicSequence)},setCurrentVideoIndex:function(e){this.currentVideoIndex=e},setCurrentAudioIndex:function(e){this.currentAudioIndex=e},setCurrentMusicIndex:function(e){this.currentMusicIndex=e},hasCurrentVideo:function(){return this.currentVideoSequence.length>this.currentVideoIndex},hasCurrentAudio:function(){return this.currentAudioSequence.length>this.currentAudioIndex},hasCurrentMusic:function(){return this.currentMusicSequence.length>this.currentMusicIndex},hasVideoEmpty:function(){return 0===this.currentVideoSequence.length},hasAudioEmpty:function(){return 0===this.currentAudioSequence.length},hasMusicEmpty:function(){return 0===this.currentMusicSequence.length},hasBgndMusicEmpty:function(){return 0===this.currentBgndMusicSequence.length},prepareCurrentAnswers:function(){if(this.currentAnswers=[],this.currentNode.node){var e=this.currentNode.node.length,t=this.processGOTONode(this.currentNode.node[0]);if(this.inputSVarName=Q.a.getTagValueINPUTS(t._parsedContent),this.inputSVarValue=this.getGameDataVarValue(this.inputSVarName),1===e&&""!==this.inputSVarName)this.currentAnswers.push({id:0,text:"inputS",node:t,nextNode:t.node});else{for(var i in this.currentNode.node){var n=this.processGOTONode(this.currentNode.node[i]);console.log("ANSWER#"+i+": ",n._parsedContent);var s=Q.a.getTagValueLABEL(n._parsedContent);e>1&&""===s||this.currentAnswers.push({id:i,text:s,node:n,nextNode:n.node})}"ON"===Q.a.getTagValueANSWERSORDER(this.currentNode._parsedContent).toUpperCase()||this.$debug||Q.a.shuffle(this.currentAnswers)}}},hasEmptyAnswer:function(){return 1===this.currentAnswers.length&&""===this.currentAnswers[0].text&&!this.inputSVarName},getCurrentAnswers:function(){return this.currentAnswers},getAnswerTime:function(){return this.answerTime||0},setInputSVarValue:function(e){this.inputSVarValue=e},setAnswerById:function(e){var t=this.currentAnswers.filter(function(t){return t.id===e});""!==this.inputSVarName&&""!==this.inputSVarValue&&this.setGameDataVarValue(this.inputSVarName,this.inputSVarValue),this.currentNode=t[0].node,this.currentVideoSequence=Q.a.getTagValueVIDEO(this.currentNode._parsedContent),this.currentVideoIndex=0,this.currentAudioSequence=Q.a.getTagValueAUDIO(this.currentNode._parsedContent),this.currentAudioIndex=0,this.currentSFXSequence=Q.a.getTagValueSOUNDFX(this.currentNode._parsedContent),this.currentSFXIndex=0;var i=Q.a.getTagValueIMAGE(this.currentNode._parsedContent);this.currentImages=Q.a.getArrayRandomElement(i),this.nextNode=this.currentNode.node[0],this.currentAmbientName=Q.a.getTagValueAMBIENT(this.currentNode._parsedContent),this.processNodeMusic(this.currentNode),this.processNodeBgndMusic(this.currentNode)},processNodeMusic:function(e){var t=Q.a.getTagValueMUSIC(e._parsedContent);this.isNewMusic=t.length>0,this.isNewMusic&&(this.currentMusicSequence=t,this.currentMusicIndex=0)},processNodeBgndMusic:function(e){var t=Q.a.getTagValueBGNDMUSIC(e._parsedContent);this.isNewBgndMusic=t.length>0,this.isNewBgndMusic&&(this.currentBgndMusicSequence=t,this.currentBgndMusicIndex=0)},setNextQuestion:function(){this.currentNode=this.nextNode},setPrevQuestion:function(){this.currentNode=this.prevQuestionNodes.pop(),this.prevQuestionNodes.length&&(this.currentNode=this.prevQuestionNodes.pop(),this.gameData=JSON.parse(L()(this.currentNode._gameData)))},setEpisode:function(){console.log("setEpisode",this.episodeNo);var e=this.findNodeWithMark(this.scenario,"EPISODE"+this.episodeNo);e?(this.currentNode=e,this.episodeNo++):(this.episodeNo=1,this.setEpisode())},gotoMark:function(e){console.log("gotoMark",e);var t=this.findNodeWithMark(this.scenario,e);if(t)this.currentNode=t;else{console.log("%c Cant find mark name: "+e+", will use default mark:"+f.a.DEFAULT_LOAD_MARK_NAME,"background: #FF0000; color: #FFFFFF"),e=f.a.DEFAULT_LOAD_MARK_NAME;var i=this.findNodeWithMark(this.scenario,e);i?this.currentNode=i:console.log("%c Cant find even default mark name: "+e,"background: #FF0000; color: #FFFFFF")}},processTimeExpired:function(){if(console.log("this.timeExpiredMark",this.timeExpiredMark),""!==this.timeExpiredMark){var e=this.findNodeWithMark(this.scenario,this.timeExpiredMark);console.log("gotoNode",e),e&&(this.currentNode=e),this.timeExpiredMark=""}},evalString:function(e){return Q.a.evalString.call(this.gameData,e)},setGameDataVarValue:function(e,t){this.gameData[e.replace("this.","")]=t},getGameDataVarValue:function(e){return this.gameData[e.replace("this.","")]},runTests:function(){var e="Mark_Final1",t=!0,i=null!==this.findNodeWithMark(this.scenario,"Mark_Final1");Q.a.checkCondition(e,t,i),this.gameData={a:1},e='test_{this.a=2;let b=3;this.a=b;"";}',t="test_",i=this.evalString(e),Q.a.checkCondition(e,t,i),e='{if (Math.random() < 0.5) this.actorName="rock"; else this.actorName="kanye";"";}Hey brother stop!',t="Hey brother stop!",i=this.evalString(e),Q.a.checkCondition(e,t,i),this.gameData={a:1},e='check_nested{this.a=2;let b=3; if (this.a != this.b) {{script test/test_nested.qsp}} else {"GOTO2"};}',t="check_nested[GOTO1]",i=this.evalString(e),Q.a.checkCondition(e,t,i),this.gameData={a:1},e="...[IMAGE logo.png]",t="...[IMAGE logo.png]",i=this.evalString(e),Q.a.checkCondition(e,t,i),this.gameData={}}}},X={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]},$={components:{MainView:F,GameModel:i("VU/8")(H,X,!1,null,null,null).exports},data:function(){return{mainView:null,gameModel:null,mode:0,MODE_QUESTION:1,MODE_AFTER_QUESTION:2,MODE_ANSWER:3,PURCHASE_ITEM_CHEATS:"cheats"}},mounted:function(){this.initialize()},methods:{initialize:function(){var e=this;this.mainView=this.$refs.mainView,this.gameModel=this.$refs.gameModel,this.loadPurchasedItems(),this.mainView.showPreloading(),this.onPreloadingUpdate(),this.mainView.showImages("logo.jpg"),o.a.setPreloadingCallback(this.onPreloadingUpdate),this.onPreloadingUpdate(),o.a.loadAssets().then(function(t){setTimeout(function(){e.assetsCached()},1e3)})},onPreloadingUpdate:function(e){var t="Loading...";e&&(e.current===e.total?t+=" done!":(t=t+e.current+"/"+e.total,this.mainView.updateTimerViewPercent(e.current,e.total))),this.mainView.setQuestionText(t)},assetsCached:function(){this.mainView.showGameView();var e=o.a.getAssetByName(o.a.CATEGORY_DATA,"scenario.json");this.gameModel.scenario=JSON.parse(e),this.gameModel.prepareData(),this.restartGame()},loadPurchasedItems:function(){var e=this.gameModel.loadPurchasedItem(this.PURCHASE_ITEM_CHEATS);console.log("this.purchaseItems:",this.PURCHASE_ITEM_CHEATS,e),e&&this.mainView.enablePurchasedCheats()},restartGame:function(){console.log("Restart"),this.stopVideo(),this.stopAudio(),this.gameModel.restartGame(),this.mainView.clearTimer(),this.showCurrentQuestion()},showCurrentQuestion:function(){this.mainView.clearTimer(),this.gameModel.prepareCurrentQuestion(),this.mainView.clearAnswers(),console.log("Q:",this.gameModel.getCurrentQuestionLabel()),this.mainView.setQuestionText(this.gameModel.getCurrentQuestionLabel()),console.log("GC:purchaseItem:",this.PURCHASE_ITEM_CHEATS,this.gameModel.purchaseItem),this.gameModel.purchaseItem===this.PURCHASE_ITEM_CHEATS&&(console.log("Save:purchaseItem:",this.PURCHASE_ITEM_CHEATS,this.gameModel.purchaseItem),this.mainView.enablePurchasedCheats(),this.gameModel.savePurchasedItem(this.gameModel.purchaseItem)),this.gameModel.getCurrentNavigateUrl()&&(console.log(this.gameModel.getCurrentNavigateUrl()),window.open(this.gameModel.getCurrentNavigateUrl(),"_system")),this.mode=this.MODE_QUESTION,this.playVideoAndAudio(),this.clearAndShowBgPictures(),this.mainView.clearBgndImages(),this.clearAndShowImages(),this.playAmbient(),this.playSoundFx(),this.playMusic(),this.playBgndMusic()},showAfterQuestion:function(){console.log(">>>after question"),this.gameModel.prepareAfterQuestion(),this.mode=this.MODE_AFTER_QUESTION,this.playVideoAndAudio(),this.clearAndShowBgndImages(),this.mainView.clearImages()},showCurrentAnswers:function(){if(!this.gameModel.isFinal){this.gameModel.prepareCurrentAnswers();var e=""!==this.gameModel.inputSVarName,t=this.gameModel.inputSVarValue;this.mainView.showAnswers(this.gameModel.getCurrentAnswers(),e,t),this.mainView.setTimer(this.gameModel.getAnswerTime(),this.gameModel.timeExpiredMark),this.gameModel.isHideAnswers&&this.mainView.hideAnswers()}},processAnswer:function(e){console.log(">>>process answer",e.text),this.mainView.setQuestionText(""),this.gameModel.setInputSVarValue(e.inputS),this.gameModel.setAnswerById(e.id),this.mainView.clearTimer(),this.mainView.clearAnswers(),this.mainView.clearBgndImages(),this.clearAndShowImages(),this.playAmbient(),this.playSoundFx(),this.playMusic(),this.playBgndMusic(),this.mode=this.MODE_ANSWER,this.playVideoAndAudio()},processVideoEnded:function(e){console.log("video ended:",e),this.gameModel.setNextVideo(),this.playVideoSequence()||this.processVideoAndAudioEnding()},processAudioEnded:function(e){console.log("audio ended:",e),this.gameModel.setNextAudio(),this.playAudioSequence()||this.processVideoAndAudioEnding()},processSFXEnded:function(e){console.log("sfx ended:",e),this.gameModel.setNextSFX(),this.playSoundFx()},playVideoAndAudio:function(){var e=this.gameModel.hasVideoEmpty(),t=this.gameModel.hasAudioEmpty();e&&t&&!this.checkIsSpeechEnabled()?this.processVideoAndAudioEnding():(e||this.playVideoSequence(),t&&!this.checkIsSpeechEnabled()||this.playAudioSequence())},playVideoSequence:function(){var e=this.gameModel.hasCurrentAudio();return this.gameModel.hasCurrentVideo()||this.mode!==this.MODE_QUESTION||this.gameModel.isFinal||e&&this.gameModel.setCurrentVideoIndex(0),this.gameModel.hasCurrentVideo()||this.mode!==this.MODE_AFTER_QUESTION||this.gameModel.setCurrentVideoIndex(0),!!this.gameModel.hasCurrentVideo()&&(this.mainView.playVideo(this.gameModel.getCurrentVideoName(),!1),!0)},playAudioSequence:function(){return this.gameModel.hasCurrentAudio()||this.mode!==this.MODE_AFTER_QUESTION||this.gameModel.setCurrentAudioIndex(0),this.checkIsSpeechEnabled()?(this.mainView.playAudio(this.gameModel.getCurrentAudioName(),!1,this.gameModel.getCurrentQuestionLabel()),!0):!!this.gameModel.hasCurrentAudio()&&(this.mainView.playAudio(this.gameModel.getCurrentAudioName(),!1),!0)},checkIsSpeechEnabled:function(){return f.a.ENABLE_SPEECH&&this.mode===this.MODE_QUESTION&&this.gameModel.getCurrentQuestionLabel()&&"..."!==this.gameModel.getCurrentQuestionLabel()},processVideoAndAudioEnding:function(){var e=this.gameModel.hasCurrentVideo(),t=this.gameModel.hasCurrentAudio(),i=this.gameModel.hasVideoEmpty(),n=this.gameModel.hasAudioEmpty();return console.log("<<<<<",this.mode,e,t,i,n),this.mode===this.MODE_QUESTION&&(i&&n||i&&!t||n&&!e||e&&!t&&!this.gameModel.isFinal||!e&&!t)?(console.log("case1"),this.stopVideo(),this.stopAudio(),this.showCurrentAnswers(),void(this.gameModel.isFinal||this.showAfterQuestion())):this.mode!==this.MODE_AFTER_QUESTION||e||t||!this.gameModel.hasEmptyAnswer()?void(this.mode===this.MODE_ANSWER&&(i&&n||i&&!t||n&&!e||!e&&!t)&&(console.log("case3"),this.stopVideo(),this.stopAudio(),this.gameModel.setNextQuestion(),this.showCurrentQuestion())):(console.log("case2"),void this.processAnswer(this.gameModel.getCurrentAnswers()[0]))},clearAndShowBgndImages:function(){this.gameModel.hasVideoEmpty()&&this.gameModel.currentBgndImages&&this.mainView.playVideo("NONE",!1),this.mainView.clearBgndImages(),this.mainView.showBgndImages(this.gameModel.currentBgndImages)},clearAndShowImages:function(){this.gameModel.hasVideoEmpty()&&this.gameModel.currentImages&&this.mainView.playVideo("NONE",!1),this.mainView.clearImages(),this.mainView.showImages(this.gameModel.currentImages)},clearAndShowBgPictures:function(){this.mainView.showBgPictures(this.gameModel.currentBgPictures)},playAmbient:function(){var e=this.gameModel.getCurrentAmbientName();this.mainView.playAmbient(e)},playSoundFx:function(){var e=this.gameModel.getCurrentSFXName();e&&""!==e&&this.mainView.playSFX(e)},playMusic:function(e){if(!this.gameModel.hasMusicEmpty()&&(this.gameModel.isNewMusic||e)){this.gameModel.setNextRandomMusic();var t=this.gameModel.getCurrentMusicName();this.mainView.playMusic(t)}},processMusicEnded:function(e){console.log("music ended:",e),this.playMusic(!0)},playBgndMusic:function(e){if(!this.gameModel.hasBgndMusicEmpty()&&(this.gameModel.isNewBgndMusic||e)){this.gameModel.setNextRandomBgndMusic();var t=this.gameModel.getCurrentBgndMusicName();this.mainView.playBgndMusic(t)}},processBgndMusicEnded:function(e){console.log("bgnd music ended:",e),this.playBgndMusic(!0)},processTimeExpired:function(){console.log("Time expired!"),this.gameModel.processTimeExpired(),this.stopVideo(),this.stopAudio(),this.mainView.clearTimer(),this.showCurrentQuestion()},stopVideo:function(){this.mainView.stopVideo(),this.gameModel.setCurrentVideoIndex(0)},stopAudio:function(){this.mainView.stopAudio(),this.gameModel.setCurrentAudioIndex(0)},saveGame:function(){this.gameModel.saveGameData()||console.log("Cant save game!")},loadGame:function(){this.gameModel.loadGameData()?(this.stopVideo(),this.stopAudio(),this.mainView.stopMusic(),this.mainView.clearTimer(),this.showCurrentQuestion()):console.log("Cant load game!")},cheatSkip:function(){this.mode===this.MODE_QUESTION&&(this.stopVideo(),this.stopAudio(),this.showCurrentAnswers(),this.gameModel.isFinal||this.showAfterQuestion()),this.mode===this.MODE_ANSWER&&(this.stopVideo(),this.stopAudio(),this.gameModel.setNextQuestion(),this.showCurrentQuestion())},cheatBack:function(){this.stopVideo(),this.stopAudio(),this.mainView.clearTimer(),this.gameModel.setPrevQuestion(),this.showCurrentQuestion()},cheatEpisode:function(){this.stopVideo(),this.stopAudio(),this.mainView.clearTimer(),this.gameModel.setEpisode(),this.showCurrentQuestion()},donate:function(){window.open("https://vk.com/club23748098","_system")}}},W={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("MainView",{ref:"mainView",on:{answerClick:e.processAnswer,videoEnded:e.processVideoEnded,audioEnded:e.processAudioEnded,sfxEnded:e.processSFXEnded,musicEnded:e.processMusicEnded,restartGame:e.restartGame,saveGame:e.saveGame,loadGame:e.loadGame,timeExpired:e.processTimeExpired,cheatSkip:e.cheatSkip,cheatBack:e.cheatBack,cheatEpisode:e.cheatEpisode,donate:e.donate}}),e._v(" "),i("GameModel",{ref:"gameModel"})],1)},staticRenderFns:[]},q=i("VU/8")($,W,!1,null,null,null).exports;n.a.use(a.a);var Y=new a.a({routes:[{path:"/",name:"Game",component:q}]}),K=(i("03v1"),i("8jLZ"));n.a.use(K.a),n.a.config.productionTip=!1,n.a.prototype.$debug=!1,new n.a({el:"#app",router:Y,components:{App:r},template:"<App/>"})},PvXa:function(e,t,i){var n={"./audio/ambient.mp3":"Hz/Z","./audio/music_intro.mp3":"cKpF","./data/scenario":"jvff","./data/scenario.json":"jvff","./images/Intro.jpg":"KxK8","./images/bg.jpg":"A1K6","./images/intro_gops.png":"yYW4","./images/logo.jpg":"4GjL","./images/poster.png":"D3Z2","./images/title.png":"Cb4U","./video/intro.mp4":"tmvk","./video/intro_backup.mp4":"YmEH","./video/intro_src_backup.mp4":"nNUK"};function s(e){return i(r(e))}function r(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id="PvXa"},RL9R:function(e,t,i){var n={"./data/scenario.json":"jvff"};function s(e){return i(r(e))}function r(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id="RL9R"},Rz6t:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__("mvHQ"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1__components_controller_CacheController_js__=__webpack_require__("b3CK");__webpack_exports__.a={ALL_TAGS:["LABEL","INPUTS","FINAL","GOTO","NAVIGATEURL","PURCHASE","BGPICTURE","VIDEO","AUDIO","BGNDVIDEO","BGNDAUDIO","BGNDIMAGE","IMAGE","AMBIENT","SOUNDFX","MUSIC","BGNDMUSIC","ANSWERSORDER","ANSWERTIME","TIMEEXPIRED","ANSWERIMAGE"],getTagValueLABEL:function(e){var t=this.getTagValue(e,"LABEL");return t=this.removeBrackets(t,"[","]")},getTagValueINPUTS:function(e){return this.getTagValue(e,"INPUTS")},getTagValueANSWERSORDER:function(e){return this.getTagValue(e,"ANSWERSORDER")},getTagValueANSWERTIME:function(e){return this.getTagValue(e,"ANSWERTIME")},getTagValueTIMEEXPIRED:function(e){return this.getTagValue(e,"TIMEEXPIRED")},getTagValueFINAL:function(e){return this.getTagValue(e,"FINAL")},getTagValueGOTO:function(e){return this.getTagValueSequence(e,"GOTO")},getTagValueNAVIGATEURL:function(e){return this.getTagValue(e,"NAVIGATEURL")},getTagValuePURCHASE:function(e){return console.log(e),this.getTagValue(e,"PURCHASE")},getTagValueVIDEO:function(e){return this.getTagValueVideoSequence(e,"VIDEO")},getTagValueAUDIO:function(e){return this.getTagValueAudioSequence(e,"AUDIO")},getTagValueSOUNDFX:function(e){return this.getTagValueAudioSequence(e,"SOUNDFX")},getTagValueBGNDVIDEO:function(e){return this.getTagValueVideoSequence(e,"BGNDVIDEO")},getTagValueBGNDAUDIO:function(e){return this.getTagValueAudioSequence(e,"BGNDAUDIO")},getTagValueBGPICTURE:function(e){return this.getTagValueSequence(e,"BGPICTURE")},getTagValueIMAGE:function(e){return this.getTagValueSequence(e,"IMAGE")},getTagValueBGNDIMAGE:function(e){return this.getTagValueSequence(e,"BGNDIMAGE")},getTagValueAMBIENT:function(e){return this.getTagValue(e,"AMBIENT").replace(".mp3","")},getTagValueMUSIC:function(e){return this.getTagValueAudioSequence(e,"MUSIC")},getTagValueBGNDMUSIC:function(e){return this.getTagValueAudioSequence(e,"BGNDMUSIC")},getTagValueHIDEANSWERS:function(e){return this.getTagValue(e,"HIDEANSWERS")},getTagValueVideoSequence:function(e,t){return this.getTagValueSequence(e,t).map(function(e){return e.trim().replace(".mp4","").replace(".flv","")})},getTagValueAudioSequence:function(e,t){return this.getTagValueSequence(e,t).map(function(e){return e.trim().replace(".mp3","")})},getTagValueSequence:function(e,t){var i=this.getTagValue(e,t);if(""===i)return[];var n=[];return i.indexOf("||")>=0?(n=i.split("||"),n=this.shuffle(n)):n=i.split(","),n},getTagValue:function(e,t){var i="",n="",s=e.split("["+t+" ");if(s[1]){for(var r=!1,a=s[1],o=0;o<this.ALL_TAGS.length;o++){var u=this.ALL_TAGS[o];if(u!==t){var c=a.split("]]["+u+" ");if(1===c.length&&(c=a.split("]["+u+" ")),c.length>1)r=!0,((n=c[0]).length<i.length||""===i)&&(i=n);else{var d=a.split("["+u+" ");d.length>1&&(r=!0,((n=d[0]).length<i.length||""===i)&&(i=n))}}}if(!r){var l=a.lastIndexOf("]");"LABEL"===t?l>=0&&(i=a.substring(0,l)+""+a.substring(l+1)):(l=a.indexOf("]"))>=0&&(i=a.substring(0,l))}}return i},getArrayRandomElement:function(e){if(e&&e.length)return e[Math.floor(Math.random()*e.length)]},getArrayRandomIndex:function(e){return Math.floor(Math.random()*e.length)},shuffle:function(e){for(var t=e.length-1;t>0;t--){var i=Math.floor(Math.random()*(t+1)),n=[e[i],e[t]];e[t]=n[0],e[i]=n[1]}return e},cloneObject:function(e){return JSON.parse(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(e))},evalString:function evalString(___str___){for(var result=___str___,preresult=___str___,SCRIPT_KEYWORD="{script ",SCRIPT_EXTENSION=".qsp",SCRIPT_SUFFIX="}",hasScript=!1,firstRun=!0;hasScript||firstRun;){firstRun=!1;var pb=preresult.indexOf(SCRIPT_KEYWORD);if(hasScript=pb>=0,hasScript){for(var bl=0,hasScriptEnding=!1;pb+bl<preresult.length&&(hasScriptEnding=preresult[pb+bl]===SCRIPT_SUFFIX,!hasScriptEnding);)bl++;if(hasScriptEnding){var scriptStr=preresult.substr(pb,bl+1);console.log("SCRIPT STR:",scriptStr);var scriptName=scriptStr.replace(SCRIPT_KEYWORD,"").replace(SCRIPT_EXTENSION,"").replace(SCRIPT_SUFFIX,"").trim(),scriptBody=__WEBPACK_IMPORTED_MODULE_1__components_controller_CacheController_js__.a.getAssetByName(__WEBPACK_IMPORTED_MODULE_1__components_controller_CacheController_js__.a.CATEGORY_SCRIPTS,scriptName);scriptBody||console.log("Script not found!",scriptName),scriptBody="{"+scriptBody+"}",preresult=preresult.replace(scriptStr,scriptBody)}}}for(var arr=[],bracesLeft=0,startPos=0,endPos=0,i=0;i<preresult.length;i++)"{"===preresult[i]&&(0===bracesLeft&&(startPos=i),bracesLeft++),"}"===preresult[i]&&(bracesLeft--,bracesLeft<0&&console.log("Incorrect string!",preresult),0===bracesLeft&&(endPos=i,arr.push({startPos:startPos,endPos:endPos})));if(arr.length){result="";for(var lastEnd=0,_i=0;_i<arr.length;_i++){var obj=arr[_i],start=obj.startPos,end=obj.endPos,length=end-start+1;result+=preresult.substr(lastEnd,start-lastEnd);var jsCode=preresult.substr(start,length);console.log("]]]]]]]]]]]]]]]]]]]]]]]]]]]",jsCode);var jsCodeResult=eval(jsCode)||"";result+=jsCodeResult,lastEnd=end+1}result+=preresult.substr(lastEnd,preresult.length-lastEnd)}return result},removeBrackets:function(e,t,i){for(var n=e,s=[],r=0,a=0,o=0,u=0;u<e.length;u++)e[u]===t&&(0===r&&(a=u),r++),e[u]===i&&(--r<0&&console.log("Incorrect string!",e),0===r&&(o=u,s.push({startPos:a,endPos:o})));if(s.length){n="";for(var c=0,d=0;d<s.length;d++){var l=s[d],h=l.startPos,g=l.endPos;n+=e.substr(c,h-c),c=g+1}n+=e.substr(c,e.length-c)}return n},runTests:function(){var e="",t="",i="";e="[LABEL test[ANSWERSORDER OFF][BGNDIMAGE Intro.jpg]",t="test",i=this.getTagValue(e,"LABEL"),this.checkCondition(e,t,i),e="[LABEL [GOTO test]]",t="test",i=this.getTagValue(e,"GOTO"),this.checkCondition(e,t,i),e="[GOTO test]",t="test",i=this.getTagValue(e,"GOTO"),this.checkCondition(e,t,i),e="[LABEL test label[VIDEO video][AUDIO audio]]",t="test label",i=this.getTagValue(e,"LABEL"),this.checkCondition(e,t,i),e="[LABEL test]]]]",t="test]]]",i=this.getTagValue(e,"LABEL"),this.checkCondition(e,t,i),e="[LABEL test][VIDEO video]",t="test",i=this.getTagValue(e,"LABEL"),this.checkCondition(e,t,i),e="[LABEL test[AUDIO 1]][VIDEO video]",t="test",i=this.getTagValueLABEL(e),this.checkCondition(e,t,i)},checkCondition:function(e,t,i){t!==i&&(console.log("%c ERROR","background: #FF0000; color: #FFFFFF"),console.log("INPUT:",e),console.log("EXPECTED:",t),console.log("RESULT:",i))}}},Vm1E:function(e,t){},X9qF:function(e,t,i){var n={"./intro.mp4":"tmvk","./intro_backup.mp4":"YmEH","./intro_src_backup.mp4":"nNUK"};function s(e){return i(r(e))}function r(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id="X9qF"},YmEH:function(e,t,i){e.exports=i.p+"static/media/intro_backup.1c0f593.mp4"},b3CK:function(e,t,i){"use strict";var n=i("BO1k"),s=i.n(n),r=i("Xxa5"),a=i.n(r),o=i("exGp"),u=i.n(o),c=i("//Fk"),d=i.n(c),l=i("4fiY");t.a={preloadingCallback:null,CATEGORY_VIDEO:"video",CATEGORY_AUDIO:"audio",CATEGORY_IMAGES:"images",CATEGORY_SCRIPTS:"scripts",CATEGORY_DATA:"data",gameAssets:{},getAssetByName:function(e,t){var i=t;switch(e){case this.CATEGORY_VIDEO:i.indexOf(".")<0&&(i=t+".mp4");break;case this.CATEGORY_AUDIO:i.indexOf(".mp3")<0&&(i=t+".mp3");break;case this.CATEGORY_IMAGES:break;case this.CATEGORY_SCRIPTS:i.indexOf(".qsp")<0&&(i=t+".qsp");break;case this.CATEGORY_DATA:i.indexOf(".json")<0&&(i=t+".json")}var n=e+"/"+i;return this.gameAssets[n]},setPreloadingCallback:function(e){this.preloadingCallback=e},loadAssets:function(){var e=this;return new d.a(function(t,i){e.loadAssetsFromIndexedDB().then(function(i){e.gameAssets=i,t(i)}).catch(function(n){e.loadGameAssetsDictionary().then(function(i){e.gameAssets=i,l.a.CACHE_ENABLED&&e.saveAssetsToIndexedDB(),t(i)}).catch(function(e){i(e)})})})},loadAssetsFromIndexedDB:function(){return new d.a(function(e,t){if(l.a.CACHE_ENABLED)if("indexedDB"in window){var i=indexedDB.open(l.a.INDEXEDDB_STORE_NAME,l.a.GAME_VERSION);i.onupgradeneeded=function(e){var t=e.target.result;t.objectStoreNames.contains("gameAssets")&&t.deleteObjectStore("gameAssets"),t.createObjectStore("gameAssets",{keyPath:"id",autoIncrement:!1})},i.onsuccess=function(i){var n=i.target.result.transaction(["gameAssets"],"readwrite"),s=n.objectStore("gameAssets").get(1);s.onsuccess=function(i){var n=i.target.result;n&&n.value?(console.log("Taken gameAssets from IndexedDB v."+l.a.GAME_VERSION,n),e(n.value)):t(new TypeError("No gameAssets record in IndexedDB!"))},s.onerror=function(e){t(new TypeError("No gameAssets record in IndexedDB!"))},n.oncomplete=function(){},n.onerror=function(e){t(new TypeError("Error reading IndexedDB!"))}}}else console.log("This browser doesnt support IndexedDB"),t(new TypeError("This browser doesnt support IndexedDB"));else t(new TypeError("loadAssetsFromIndexedDB: CACHE_ENABLED = false"))})},saveAssetsToIndexedDB:function(){var e=this;return new d.a(function(t,i){if(l.a.CACHE_ENABLED)if("indexedDB"in window){var n=indexedDB.open(l.a.INDEXEDDB_STORE_NAME,l.a.GAME_VERSION);n.onupgradeneeded=function(e){var t=e.target.result;t.objectStoreNames.contains("gameAssets")||t.createObjectStore("gameAssets",{keyPath:"id",autoIncrement:!1})},n.onsuccess=function(n){var s=n.target.result.transaction(["gameAssets"],"readwrite");s.objectStore("gameAssets").put({id:1,value:e.gameAssets}),console.log("Saving loaded assets to IndexedDB v."+l.a.GAME_VERSION),s.oncomplete=function(){console.log("Save success"),t(!0)},s.onerror=function(e){console.log("Save error!"),i(new TypeError("Error saving loaded assets to IndexedDB! v."+l.a.GAME_VERSION))}}}else console.log("This browser doesnt support IndexedDB"),i(new TypeError("This browser doesnt support IndexedDB"));else i(new TypeError("saveAssetsToIndexedDB: CACHE_ENABLED = false"))})},loadGameAssetsDictionary:function(){var e=this;return u()(a.a.mark(function t(){var n,s,r;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.a.CACHE_ENABLED?i("9w6p"):i("RL9R"),s=n.keys().map(function(e){return[e.replace("./",""),n(e)]}),t.next=4,e.processAssetsArray(s);case 4:return r=t.sent,t.abrupt("return",new d.a(function(e,t){e(r)}));case 6:case"end":return t.stop()}},t,e)}))()},processAssetsArray:function(e){var t=this;return u()(a.a.mark(function n(){var r,o,u,c,d,l,h,g,m;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:r={},o=0,u=a.a.mark(function n(s){var u,c;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return u=s[0],c=i("PvXa")("./"+u),n.next=4,t.fetchLocal(c).then(function(i){i.blob().then(function(i){if(u.indexOf("scripts")>=0||u.indexOf("scenario")>=0){var n=new FileReader;n.addEventListener("loadend",function(i){var n=i.srcElement.result;r[u]=n,o=t.incCounter(o,e.length)}),n.readAsText(i)}else{var s=new FileReader;s.addEventListener("loadend",function(i){var n=i.srcElement.result;r[u]=n,o=t.incCounter(o,e.length)}),s.readAsDataURL(i),r[u]=i}})});case 4:case"end":return n.stop()}},n,t)}),c=!0,d=!1,l=void 0,n.prev=6,h=s()(e);case 8:if(c=(g=h.next()).done){n.next=14;break}return m=g.value,n.delegateYield(u(m),"t0",11);case 11:c=!0,n.next=8;break;case 14:n.next=20;break;case 16:n.prev=16,n.t1=n.catch(6),d=!0,l=n.t1;case 20:n.prev=20,n.prev=21,!c&&h.return&&h.return();case 23:if(n.prev=23,!d){n.next=26;break}throw l;case 26:return n.finish(23);case 27:return n.finish(20);case 28:return n.abrupt("return",r);case 29:case"end":return n.stop()}},n,t,[[6,16,20,28],[21,,23,27]])}))()},incCounter:function(e,t){return e++,this.preloadingCallback&&this.preloadingCallback({current:e,total:t}),e},fetchLocal:function(e,t){return new d.a(function(t,i){var n=new XMLHttpRequest;n.responseType="blob",n.onload=function(){t(new Response(n.response,{status:n.status}))},n.onerror=function(){i(new TypeError("Local request failed"))},n.open("GET",e),n.setRequestHeader("Access-Control-Allow-Origin","*"),n.setRequestHeader("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),n.send(null)})}}},cKpF:function(e,t,i){e.exports=i.p+"static/media/music_intro.6adb426.mp3"},eFts:function(e,t){},g2Y0:function(e,t,i){var n={"./Intro.jpg":"KxK8","./bg.jpg":"A1K6","./intro_gops.png":"yYW4","./logo.jpg":"4GjL","./poster.png":"D3Z2","./title.png":"Cb4U"};function s(e){return i(r(e))}function r(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id="g2Y0"},jvff:function(e,t){e.exports="data:application/json;base64,77u/ew0KICAibm9kZSI6IFsNCiAgICB7DQogICAgICAibm9kZSI6IFsNCiAgICAgICAgew0KICAgICAgICAgICJub2RlIjogWw0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAibm9kZSI6IFsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAibm9kZSI6IFsNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICJub2RlIjogWw0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAiX21hcmsiOiAibWFya183OHhtdzk5aDh6ZDdjdmg3MjNkMiIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICJfY29udGVudCI6ICJbTEFCRUwgLi4uXVtWSURFTyBnb3AxX2ludHJvLm1wNF1bTVVTSUMgbm9uZV1bQU1CSUVOVCBhbWJpZW50XSINCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICBdLA0KICAgICAgICAgICAgICAgICAgICAgICJfbWFyayI6ICIiLA0KICAgICAgICAgICAgICAgICAgICAgICJfY29udGVudCI6ICJbTEFCRUwg0J/QntCT0J3QkNCb0JghXSINCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICAgICAgICJfbWFyayI6ICJQUkVQQVJFIiwNCiAgICAgICAgICAgICAgICAgICJfY29udGVudCI6ICJbTEFCRUwg0KHQuNC80YPQu9GP0YLQvtGAINCT0L7Qv9C90LjQutCwLCDRh9Cw0YHRgtGMIDUuINCf0L7QtNGB0YLQsNCy0LAuXG4o0LLQtdGA0YHQuNGPIDEue3RoaXMuZ2FtZV92ZXJzaW9ufSldW0JHTkRWSURFTyBpbnRyby5tcDRdW0JHTkRJTUFHRSB0aXRsZS5wbmddW01VU0lDIG11c2ljX2ludHJvXVtBTlNXRVJTT1JERVIgT05dIg0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICAgIl9tYXJrIjogIm1hcmtfanEzejkyMzBiMGQ1NTVkOTAwYXMiLA0KICAgICAgICAgICAgICAiX2NvbnRlbnQiOiAiW0xBQkVMINCd0JDQp9CQ0KLQrCDQmNCT0KDQo10iDQogICAgICAgICAgICB9DQogICAgICAgICAgXSwNCiAgICAgICAgICAiX21hcmsiOiAiU1RBUlQiLA0KICAgICAgICAgICJfY29udGVudCI6ICJbTEFCRUwg0KHQuNC80YPQu9GP0YLQvtGAINCT0L7Qv9C90LjQutCwLCDRh9Cw0YHRgtGMIDUuINCf0L7QtNGB0YLQsNCy0LAuXG4o0LLQtdGA0YHQuNGPIDEue3RoaXMuZ2FtZV92ZXJzaW9ufSldW0JHUElDVFVSRSBiZy5qcGcmaW50cm9fZ29wcy5wbmcmdGl0bGUucG5nXVtBTlNXRVJTT1JERVIgT05dIg0KICAgICAgICB9DQogICAgICBdDQogICAgfQ0KICBdDQp9DQo="},kInz:function(e,t){},nJvg:function(e,t){},nNUK:function(e,t,i){e.exports=i.p+"static/media/intro_src_backup.9497b00.mp4"},nWAT:function(e,t){},s347:function(e,t){},sX5c:function(e,t,i){var n={"./ambient.mp3":"Hz/Z","./music_intro.mp3":"cKpF"};function s(e){return i(r(e))}function r(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id="sX5c"},tmvk:function(e,t,i){e.exports=i.p+"static/media/intro.246b728.mp4"},yYW4:function(e,t,i){e.exports=i.p+"static/img/intro_gops.556baa9.png"}},["NHnr"]);
//# sourceMappingURL=app.1dde5b5f5feb4a88a644.js.map